var showVis=function(){var n=gon.firstURL,t=function(){d3.selectAll("svg").remove(),d3.json(n,function(n){function t(n,t,e){n.PLZ=(n.PetalLength-t)/e}var e=window.innerWidth,r=(window.innerHeight,.05),i=e/2.6,a=i/1.61803398875,s=n.map(function(n){return n.Species}),d=(d3.map(n,function(n){return n.Species}),d3.set(s),[]),u={Species:"setosa",irises:[],iCount:function(){this.count=this.irises.length},count:this.iCount},o={Species:"virginica",irises:[],iCount:function(){this.count=this.irises.length},count:this.iCount},l={Species:"virginica",irises:[],iCount:function(){this.count=this.irises.length},count:this.iCount};n.forEach(function(n){switch(n.Species){case"setosa":u.irises.push(n),u.iCount();break;case"versicolor":o.irises.push(n),o.iCount();break;case"virginica":l.irises.push(n),l.iCount()}});{var c=d3.extent(n,function(n){return n.SepalLength});d3.scale.linear().domain([0,c[1]]).range([0,a])}d.push(u),d.push(o),d.push(l);var f=(d3.mean(u.irises,function(n){return n.SepalLength}),d3.median(u.irises,function(n){return n.SepalLength}),d3.min(u.irises,function(n){return n.SepalLength}),d3.max(u.irises,function(n){return n.SepalLength}),d3.deviation(u.irises,function(n){return n.SepalLength}),u.irises.map(function(n){return n.SepalLength}));f.sort();{var g=(d3.quantile(f,.75)-d3.quantile(f,.25),d3.quantile(f,.75),d3.quantile(f,.25),u.irises.map(function(n){return n.SepalWidth}));d3.mean(u.irises,function(n){return n.SepalWidth}),d3.median(u.irises,function(n){return n.SepalWidth}),d3.min(u.irises,function(n){return n.SepalWidth}),d3.max(u.irises,function(n){return n.SepalWidth}),d3.deviation(u.irises,function(n){return n.SepalWidth})}g.sort();var h=(d3.quantile(g,.75)-d3.quantile(g,.25),d3.quantile(g,.75),d3.quantile(g,.25),u.irises.map(function(n){return n.PetalLength})),m=(d3.mean(u.irises,function(n){return n.PetalLength}),d3.median(u.irises,function(n){return n.PetalLength}),d3.min(u.irises,function(n){return n.PetalLength}),d3.max(u.irises,function(n){return n.PetalLength}),d3.deviation(u.irises,function(n){return n.PetalLength}),d3.quantile(h,.75)-d3.quantile(h,.25),d3.quantile(h,.75),d3.quantile(h,.25),d3.deviation(h),u.irises.map(function(n){return n.PetalLength})),p=(d3.mean(u.irises,function(n){return n.PetalLength}),d3.median(u.irises,function(n){return n.PetalLength}),d3.min(u.irises,function(n){return n.PetalLength}),d3.max(u.irises,function(n){return n.PetalLength}),d3.deviation(u.irises,function(n){return n.PetalLength}),d3.quantile(m,.75)-d3.quantile(m,.25),d3.quantile(m,.75),d3.quantile(m,.25),d3.mean(o.irises,function(n){return n.SepalLength}),d3.median(o.irises,function(n){return n.SepalLength}),d3.min(o.irises,function(n){return n.SepalLength}),d3.max(o.irises,function(n){return n.SepalLength}),d3.deviation(o.irises,function(n){return n.SepalLength}),o.irises.map(function(n){return n.SepalLength}));p.sort();{var v=(d3.quantile(p,.75)-d3.quantile(p,.25),d3.quantile(p,.75),d3.quantile(p,.25),o.irises.map(function(n){return n.SepalWidth}));d3.mean(o.irises,function(n){return n.SepalWidth}),d3.median(o.irises,function(n){return n.SepalWidth}),d3.min(o.irises,function(n){return n.SepalWidth}),d3.max(o.irises,function(n){return n.SepalWidth}),d3.deviation(o.irises,function(n){return n.SepalWidth})}v.sort();var x=(d3.quantile(v,.75)-d3.quantile(v,.25),d3.quantile(v,.75),d3.quantile(v,.25),o.irises.map(function(n){return n.PetalLength})),L=d3.mean(o.irises,function(n){return n.PetalLength}),q=(d3.median(o.irises,function(n){return n.PetalLength}),d3.min(o.irises,function(n){return n.PetalLength}),d3.max(o.irises,function(n){return n.PetalLength}),d3.deviation(o.irises,function(n){return n.PetalLength}));x.sort();var q=(d3.quantile(x,.75)-d3.quantile(x,.25),d3.quantile(x,.75),d3.quantile(x,.25),d3.deviation(x));o.irises.forEach(function(n){t(n,L,q)});{var P=o.irises.map(function(n){return n.PLZ});d3.mean(P),d3.max(P),d3.min(P)}versicolorPLZDeviation=d3.deviation(P);var S=(d3.select("#versicolorNDistContainer").append("svg").classed("NDistContainer",!0).attr({width:i,height:a}),d3.scale.linear().domain([0,.5]).range([0,.9*a])),y=d3.scale.linear().domain([0,.5]).range([.9*a,0]),b=d3.scale.linear().domain([d3.min(P),d3.max(P)]).range([0,.9*i]),w=d3.layout.histogram().bins(6).frequency(0)(P),C=d3.scale.linear().domain([0,d3.max(w.map(function(n){return n.dx}))]).range([0,.9*i/6]),W=d3.svg.axis().scale(b).orient("bottom"),y=(d3.svg.axis().scale(S).orient("left"),d3.svg.axis().scale(y).orient("left")),S=d3.scale.linear().domain([0,.5]).range([0,.9*a]),b=d3.scale.linear().domain([d3.min(P),d3.max(P)]).range([0,.9*i]),C=d3.scale.linear().domain([0,d3.max(w.map(function(n){return n.dx}))]).range([0,.9*i/6]),W=d3.svg.axis().scale(b).orient("bottom"),M=(d3.svg.axis().scale(S).orient("left"),d3.select("#versicolorPLZContainer").append("svg").classed("PLZContainer",!0).attr({width:i,height:a})),k=M.selectAll(".versicolorPLZBar").data(w).enter().append("g").attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.05*a,n+=")"});k.append("rect").attr({x:function(n){return b(n.x)},y:function(n){return.9*a-S(n.y)},height:function(n){return S(n.y)},width:function(n){return Math.abs(C(n.dx))},fill:"#470520",stroke:"#ee1169"});{var A=(M.append("g").call(W).attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.95*a,n+=")"}),M.append("g").call(y).attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.05*a,n+=")"}),o.irises.map(function(n){return n.PetalLength}));d3.mean(o.irises,function(n){return n.PetalLength}),d3.median(o.irises,function(n){return n.PetalLength}),d3.min(o.irises,function(n){return n.PetalLength}),d3.max(o.irises,function(n){return n.PetalLength}),d3.deviation(o.irises,function(n){return n.PetalLength})}A.sort();var B=(d3.quantile(A,.75)-d3.quantile(A,.25),d3.quantile(A,.75),d3.quantile(A,.25),d3.mean(l.irises,function(n){return n.SepalLength}),d3.median(l.irises,function(n){return n.SepalLength}),d3.min(l.irises,function(n){return n.SepalLength}),d3.max(l.irises,function(n){return n.SepalLength}),d3.deviation(l.irises,function(n){return n.SepalLength}),l.irises.map(function(n){return n.SepalLength}));B.sort();{var Z=(d3.quantile(B,.75)-d3.quantile(B,.25),d3.quantile(B,.75),d3.quantile(B,.25),l.irises.map(function(n){return n.SepalWidth}));d3.mean(l.irises,function(n){return n.SepalWidth}),d3.median(l.irises,function(n){return n.SepalWidth}),d3.min(l.irises,function(n){return n.SepalWidth}),d3.max(l.irises,function(n){return n.SepalWidth}),d3.deviation(l.irises,function(n){return n.SepalWidth})}Z.sort();{var D=(d3.quantile(Z,.75)-d3.quantile(Z,.25),d3.quantile(Z,.75),d3.quantile(Z,.25),l.irises.map(function(n){return n.PetalLength}));d3.mean(l.irises,function(n){return n.PetalLength}),d3.median(l.irises,function(n){return n.PetalLength}),d3.min(l.irises,function(n){return n.PetalLength}),d3.max(l.irises,function(n){return n.PetalLength}),d3.deviation(l.irises,function(n){return n.PetalLength})}D.sort();{var V=(d3.quantile(D,.75)-d3.quantile(D,.25),d3.quantile(D,.75),d3.quantile(D,.25),d3.deviation(D),l.irises.map(function(n){return n.PetalLength}));d3.mean(l.irises,function(n){return n.PetalLength}),d3.median(l.irises,function(n){return n.PetalLength}),d3.min(l.irises,function(n){return n.PetalLength}),d3.max(l.irises,function(n){return n.PetalLength}),d3.deviation(l.irises,function(n){return n.PetalLength})}V.sort();var E=(d3.quantile(V,.75)-d3.quantile(V,.25),d3.quantile(V,.75),d3.quantile(V,.25),d3.layout.histogram().bins(6).frequency(0)(f)),N=d3.scale.linear().domain([0,.5]).range([0,.9*a]),$=d3.scale.linear().domain([d3.min(f),d3.max(f)]).range([0,.9*i]),j=d3.scale.linear().domain([0,d3.max(E.map(function(n){return n.dx}))]).range([0,.9*i/6]),z=d3.svg.axis().scale($).orient("bottom"),H=d3.svg.axis().scale(N).orient("left"),R=(d3.random.normal(),d3.select("#setosaContainer").append("svg").classed("freqContainer",!0).attr({width:i,height:a})),U=R.selectAll(".setosaSLBar").data(E).enter().append("g").attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.05*a,n+=")"});U.append("rect").attr({x:function(n){return Math.abs($(n.x))},y:function(n){return.9*a-N(n.y)},height:function(n){return N(n.y)},width:function(n){return Math.abs(j(n.dx))},fill:"#470520",stroke:"#ee1169"});var F=(R.append("g").call(z).attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.95*a,n+=")"}),R.append("g").call(H).attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.05*a,n+=")"}),d3.layout.histogram().bins(6).frequency(0)(h)),G=d3.scale.linear().domain([0,.5]).range([0,.9*a]),I=d3.scale.linear().domain([d3.min(h),d3.max(h)]).range([0,.9*i]),J=d3.scale.linear().domain([0,d3.max(F.map(function(n){return n.dx}))]).range([0,.9*i/6]),K=d3.svg.axis().scale(I).orient("bottom"),O=d3.svg.axis().scale(G).orient("left"),Q=d3.select("#setosaPLContainer").append("svg").classed("freqContainer",!0).attr({width:i,height:a}),T=Q.selectAll(".setosaPLBar").data(F).enter().append("g").attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.05*a,n+=")"});T.append("rect").attr({x:function(n){return Math.abs(I(n.x))},y:function(n){return.9*a-G(n.y)},height:function(n){return G(n.y)},width:function(n){return Math.abs(J(n.dx))},fill:"#470520",stroke:"#ee1169"});var X=(Q.append("g").call(K).attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.95*a,n+=")"}),Q.append("g").call(O).attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.05*a,n+=")"}),d3.layout.histogram().bins(6).frequency(0)(p)),Y=d3.scale.linear().domain([0,.5]).range([0,.9*a]),_=d3.scale.linear().domain([d3.min(p),d3.max(p)]).range([0,.9*i]),nt=d3.scale.linear().domain([0,d3.max(X.map(function(n){return n.dx}))]).range([0,.9*i/6]),tt=d3.svg.axis().scale(_).orient("bottom"),et=d3.svg.axis().scale(Y).orient("left"),rt=d3.select("#versicolorContainer").append("svg").classed("freqContainer",!0).attr({width:i,height:a}),it=rt.selectAll(".versicolorSLBar").data(X).enter().append("g").attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.05*a,n+=")"});it.append("rect").attr({x:function(n){return Math.abs(_(n.x))},y:function(n){return.9*a-Y(n.y)},height:function(n){return Y(n.y)},width:function(n){return Math.abs(nt(n.dx))},fill:"#470520",stroke:"#ee1169"});var at=(rt.append("g").call(tt).attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.95*a,n+=")"}),rt.append("g").call(et).attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.05*a,n+=")"}),d3.layout.histogram().bins(6).frequency(0)(x)),st=d3.scale.linear().domain([0,.5]).range([0,.9*a]),dt=d3.scale.linear().domain([d3.min(x),d3.max(x)]).range([0,.9*i]),ut=d3.scale.linear().domain([0,d3.max(at.map(function(n){return n.dx}))]).range([0,.9*i/6]),ot=d3.svg.axis().scale(dt).orient("bottom"),lt=d3.svg.axis().scale(st).orient("left"),ct=d3.select("#versicolorPLContainer").append("svg").classed("freqContainer",!0).attr({width:i,height:a}),ft=ct.selectAll(".versicolorPLBar").data(at).enter().append("g").attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.05*a,n+=")"});ft.append("rect").attr({x:function(n){return Math.abs(dt(n.x))},y:function(n){return.9*a-st(n.y)},height:function(n){return st(n.y)},width:function(n){return Math.abs(ut(n.dx))},fill:"#470520",stroke:"#ee1169"});var r=(ct.append("g").call(ot).attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.95*a,n+=")"}),ct.append("g").call(lt).attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.05*a,n+=")"}),{top:20,right:20,bottom:30,left:50}),gt=960-r.left-r.right,ht=500-r.top-r.bottom,mt=d3.scale.linear().range([0,gt]),pt=d3.scale.linear().range([ht,0]),vt=(d3.svg.axis().scale(mt).orient("bottom"),d3.svg.axis().scale(pt).orient("left"),d3.svg.line().x(function(n){return mt(n.q)}).y(function(n){return pt(n.p)}),d3.layout.histogram().bins(6).frequency(0)(B)),xt=d3.scale.linear().domain([0,.5]).range([0,.9*a]),Lt=d3.scale.linear().domain([d3.min(B),d3.max(B)]).range([0,.9*i]),qt=d3.scale.linear().domain([0,d3.max(vt.map(function(n){return n.dx}))]).range([0,.9*i/6]),Pt=d3.svg.axis().scale(Lt).orient("bottom"),St=d3.svg.axis().scale(xt).orient("left"),yt=d3.select("#virginicaContainer").append("svg").classed("freqContainer",!0).attr({width:i,height:a}),bt=yt.selectAll(".virginicaSLBar").data(vt).enter().append("g").attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.05*a,n+=")"});bt.append("rect").attr({x:function(n){return Math.abs(Lt(n.x))},y:function(n){return.9*a-xt(n.y)},height:function(n){return xt(n.y)},width:function(n){return Math.abs(qt(n.dx))},fill:"#470520",stroke:"#ee1169"});var wt=(yt.append("g").call(Pt).attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.95*a,n+=")"}),yt.append("g").call(St).attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.05*a,n+=")"}),d3.layout.histogram().bins(6).frequency(0)(D)),Ct=d3.scale.linear().domain([0,.5]).range([0,.9*a]),Wt=d3.scale.linear().domain([d3.min(D),d3.max(D)]).range([0,.9*i]),Mt=d3.scale.linear().domain([0,d3.max(wt.map(function(n){return n.dx}))]).range([0,.9*i/6]),kt=d3.svg.axis().scale(Wt).orient("bottom"),At=d3.svg.axis().scale(Ct).orient("left"),Bt=d3.select("#virginicaPLContainer").append("svg").classed("freqContainer",!0).attr({width:i,height:a}),Zt=Bt.selectAll(".virginicaPLBar").data(wt).enter().append("g").attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.05*a,n+=")"});Zt.append("rect").attr({x:function(n){return Math.abs(Wt(n.x))},y:function(n){return.9*a-Ct(n.y)},height:function(n){return Ct(n.y)},width:function(n){return Math.abs(Mt(n.dx))},fill:"#470520",stroke:"#ee1169"});Bt.append("g").call(kt).attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.95*a,n+=")"}),Bt.append("g").call(At).attr("transform",function(){var n="translate(";return n+=.05*i,n+=",",n+=.05*a,n+=")"})})};t()};$(document).on("page:change",showVis),$(window).resize(showVis);